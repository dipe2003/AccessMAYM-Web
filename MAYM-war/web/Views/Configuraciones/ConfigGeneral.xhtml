<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../../index.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"          
                xmlns:f="http://xmlns.jcp.org/jsf/core"                    
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"                
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <ui:define name="page_content">
        <c:choose>
            <c:when test="#{sesionUsuario.usuarioLogueado == null or sesionUsuario.usuarioLogueado.permisoUsuario != 'ADMINISTRADOR'}">
                <meta http-equiv="refresh" content="0;url=#{facesContext.externalContext.requestContextPath}/Views/Errores/Error_500.xhtml"></meta>
            </c:when>
            <c:otherwise> 
                <h:form id="form_config_general">
                    <div class="container-fluid" style="padding: 1%">  
                        <div class="panel panel-primary">
                            <div class="panel-heading">Perfil de Empresa</div>
                            <div class="panel-body">
                                <h:panelGroup id="panel-datos-empresa">

                                    <div class="form-group row">
                                        <div class="col-xs-2">
                                            <label>Nombre:</label>
                                            <h:inputText class="form-control" id="nombre" value="#{configGeneral.nombre}" required="true" requiredMessage="Nombre es obligatorio." >
                                                <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                            </h:inputText>
                                        </div>
                                        <div class="col-xs-4">
                                            <label>Direccion:</label>
                                            <h:inputText class="form-control" id="direccon" value="#{configGeneral.direccion}" required="true" requiredMessage="Direccion es obligatorio" >
                                                <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                            </h:inputText>
                                        </div>
                                        <div class="col-xs-1">
                                            <label>Telefono:</label>
                                            <h:inputText class="form-control" id="telefono" value="#{configGeneral.telefono}" required="true" requiredMessage="Telefono es obligatorio." >
                                                <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                            </h:inputText>
                                        </div>
                                        <div class="col-xs-1">
                                            <label>Movil:</label>
                                            <h:inputText class="form-control" id="movil" value="#{configGeneral.movil}" required="false">
                                                <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                            </h:inputText>
                                        </div>
                                        <div class="col-xs-2">
                                            <label>Correo</label>
                                            <h:inputText class="form-control" id="correo" value="#{configGeneral.correo}" required="true" requiredMessage="Correo es obligatorio." >
                                                <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                            </h:inputText>

                                        </div>
                                        <div class="col-xs-1">
                                            <label>Habilitacion</label>
                                            <h:inputText class="form-control" id="habilitacion" value="#{configGeneral.habilitacion}" required="false" >
                                                <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                            </h:inputText>
                                        </div>
                                    </div>                                

                                    <!--
                                    <table class="table table-striped table-responsive-sm">
                                        <thead>
                                            <tr>
                                                <th>
                                                    Nombre:
                                                </th> 
                                                <th>
                                                    Direccion:
                                                </th> 
                                                <th>
                                                    Telefono:
                                                </th> 
                                                <th>
                                                    Movil:
                                                </th> 
                                                <th>
                                                    Correo:
                                                </th> 
                                                <th>
                                                    Habilitacion:
                                                </th> 
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <h:inputTextarea id="nombre" value="#{configGeneral.nombre}" required="true" requiredMessage="Nombre es obligatorio." style="width: 20vm" >
                                                        <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                                    </h:inputTextarea>
                                                </td>
                                                <td>
                                                    <h:inputTextarea id="direccon" value="#{configGeneral.direccion}" required="true" requiredMessage="Direccion es obligatorio"  style="width: 45vm" >
                                                        <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                                    </h:inputTextarea>
                                                </td>
                                                <td>
                                                    <h:inputText id="telefono" value="#{configGeneral.telefono}" required="true" requiredMessage="Telefono es obligatorio."  style="width: 5vm">
                                                        <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                                    </h:inputText>
                                                </td>
                                                <td>
                                                    <h:inputText id="movil" value="#{configGeneral.movil}" required="false"  style="width: 5vm">
                                                        <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                                    </h:inputText>
                                                </td>
                                                <td>
                                                    <h:inputTextarea id="correo" value="#{configGeneral.correo}" required="true" requiredMessage="Correo es obligatorio."  style="width: 15vm" >
                                                        <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                                    </h:inputTextarea>
                                                </td>
                                                <td>
                                                    <h:inputText id="habilitacion" value="#{configGeneral.habilitacion}" required="false"  style="width: 5vm">
                                                        <f:ajax execute="@this" event="change" render="form_config_general:panel-mensajes-datos-empresa" />
                                                    </h:inputText>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    -->
                                </h:panelGroup>
                                <h:commandLink id="boton-guardar-datos" class="btn btn-primary" action="#{configGeneral.guardarDatosEmpresa()}" immediate="true">
                                    <span class="glyphicon glyphicon-floppy-disk"></span> Guardar
                                    <f:ajax onevent="indicador" />
                                    <f:ajax render="form_config_general:panel-mensajes-datos-empresa" />
                                    <f:ajax render="form_config_general:panel-datos-empresa" />
                                </h:commandLink>
                                <h:panelGroup id="panel-mensajes-datos-empresa">
                                    <div class="form-group-sm">
                                        <h:message for="nombre" class="msj_error"/>
                                    </div>
                                    <div class="form-group-sm">
                                        <h:message for="direccon" class="msj_error"/>
                                    </div>
                                    <div class="form-group-sm">
                                        <h:message for="telefono" class="msj_info"/>
                                    </div>
                                    <div class="form-group-sm">
                                        <h:message for="correo" class="msj_error"/>
                                    </div>
                                    <div class="form-group-sm">
                                        <h:message for="boton-guardar-datos" class="msj_info"/>
                                    </div>
                                </h:panelGroup>
                            </div>                  
                        </div>                      
                    </div>

                    <!-- Registros Relacionados -->  
                    <div class="container-fluid" style="padding: 0.5%">               
                        <div class="container-fluid" style="padding: 0.5%">
                            <div class="panel panel-primary">
                                <div class="panel-heading">Configuracion del Sistema</div>
                                <div class="panel-body">  
                                    <div class="panel-group" id="accordion">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse1"> Grupo 1 

                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapse1" class="panel-collapse collapse">
                                                <div class="panel-body">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse2"> Grupo 2 

                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapse2" class="panel-collapse collapse">
                                                <div class="panel-body">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse3"> Grupo 3 

                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapse3" class="panel-collapse collapse">
                                                <div class="panel-body">

                                                </div>
                                            </div>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </h:form>
            </c:otherwise>
        </c:choose>
    </ui:define>
</ui:composition>


